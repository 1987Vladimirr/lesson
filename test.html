<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <title>–ü–æ–≥–æ–¥–∞ –û–Ω–ª–∞–π–Ω</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: #e5f6fd;
            margin: 0;
            padding: 0;
        }

        .weather-container {
            width: 360px;
            margin: 50px auto;
            background: #fff;
            border-radius: 10px;
            box-shadow: 0 0 6px #90caf9;
            padding: 30px 24px;
            text-align: center;
        }

        .weather-title {
            font-size: 22px;
            margin-bottom: 14px;
            color: #1976d2;
        }

        .weather-icon {
            font-size: 48px;
            margin-bottom: 10px;
        }

        select {
            padding: 6px;
            font-size: 15px;
            margin-bottom: 18px;
        }

        .weather-info {
            font-size: 30px;
            color: #1565c0;
            margin-bottom: 10px;
        }

        .weather-desc {
            font-size: 17px;
            color: #526475;
        }
    </style>
</head>

<body>
    <div class="weather-container">
        <div class="weather-title">–ü–æ–≥–æ–¥–∞ —Å–µ–π—á–∞—Å</div>
        <select id="citySelect">
            <option value="55.75,37.61">–ú–æ—Å–∫–≤–∞</option>
            <option value="59.93,30.31">–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥</option>
            <option value="51.53,46.02">–°–∞—Ä–∞—Ç–æ–≤</option>
            <option value="43.10,131.87">–í–ª–∞–¥–∏–≤–æ—Å—Ç–æ–∫</option>
            <option value="56.84,60.61">–ï–∫–∞—Ç–µ—Ä–∏–Ω–±—É—Ä–≥</option>
        </select>
        <div id="weatherIcon" class="weather-icon">üå§Ô∏è</div>
        <div id="weatherTemp" class="weather-info"></div>
        <div id="weatherDesc" class="weather-desc"></div>
    </div>

    <script>
        const iconMap = {
            0: "‚òÄÔ∏è",    // —è—Å–Ω–æ
            1: "üå§Ô∏è",    // –≤ –æ—Å–Ω–æ–≤–Ω–æ–º —è—Å–Ω–æ
            2: "‚õÖÔ∏è",    // –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–±–ª–∞—á–Ω–æ—Å—Ç—å
            3: "‚òÅÔ∏è",    // –æ–±–ª–∞—á–Ω–æ
            45: "üå´Ô∏è",  // —Ç—É–º–∞–Ω
            48: "üå´Ô∏è",
            51: "üå¶Ô∏è",  // –º–µ–ª–∫–∏–π –¥–æ–∂–¥—å
            61: "üåßÔ∏è",  // –¥–æ–∂–¥—å
            71: "üå®Ô∏è",  // —Å–Ω–µ–≥
            80: "üåßÔ∏è",
            95: "‚õàÔ∏è"   // –≥—Ä–æ–∑–∞
        };

        const descMap = {
            0: "–Ø—Å–Ω–æ",
            1: "–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–µ–Ω–Ω–æ —è—Å–Ω–æ",
            2: "–ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–±–ª–∞—á–Ω–æ—Å—Ç—å",
            3: "–û–±–ª–∞—á–Ω–æ",
            45: "–¢—É–º–∞–Ω",
            48: "–¢—É–º–∞–Ω",
            51: "–ú–µ–ª–∫–∏–π –¥–æ–∂–¥—å",
            61: "–î–æ–∂–¥—å",
            71: "–°–Ω–µ–≥",
            80: "–õ–∏–≤–µ–Ω—å",
            95: "–ì—Ä–æ–∑–∞"
        };

        function showWeather(lat, lon) {
            fetch(`https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lon}&current_weather=true`)
                .then(res => res.json())
                .then(data => {
                    const w = data.current_weather;
                    document.getElementById('weatherTemp').innerText = Math.round(w.temperature) + '¬∞C';
                    document.getElementById('weatherIcon').innerText = iconMap[w.weathercode] || "‚ùì";
                    document.getElementById('weatherDesc').innerText = descMap[w.weathercode] || "–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö";
                });
        }

        const select = document.getElementById('citySelect');
        function update() {
            let [lat, lon] = select.value.split(",");
            showWeather(lat, lon);
        }
        select.addEventListener('change', update);
        update(); // –∑–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
    </script>
</body>

</html>